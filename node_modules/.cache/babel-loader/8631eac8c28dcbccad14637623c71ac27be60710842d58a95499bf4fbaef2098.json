{"ast":null,"code":"var _jsxFileName = \"/home/silvere/Desktop/Apps/readinglist/src/editable.js\";\nimport { relativeTimeRounding } from 'moment';\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Bookmark extends Component {\n  constructor(props) {\n    super(props);\n    if (this.props.value != \"\") {\n      this.state = {\n        value: this.props.value,\n        isInEditMode: false,\n        docId: this.props.bookid,\n        ref: this.props.bookref\n      };\n    } else {\n      this.state = {\n        value: \"####\",\n        isInEditMode: false,\n        docId: this.props.bookid,\n        ref: this.props.bookref\n      };\n    }\n    this.changeEditMode = this.changeEditMode.bind(this);\n    this.renderEditView = this.renderEditView.bind(this);\n    this.renderDefaultView = this.renderDefaultView.bind(this);\n    this.updateComponentValue = this.updateComponentValue.bind(this);\n  }\n\n  //state = {\n  //  value : \"Some text\", \n  //  isInEditMode: false\n  //}\n\n  changeEditMode() {\n    this.setState({\n      isInEditMode: !this.state.isInEditMode\n    });\n  }\n  updateComponentValue() {\n    this.setState({\n      isInEditMode: false,\n      value: this.refs.theTextInput.value\n    });\n    this.state.ref.doc(this.state.docId).update({\n      bookmark: this.refs.theTextInput.value\n    });\n  }\n  renderEditView() {\n    let urlCheckBtn = new URL(\"./check.png\", import.meta.url);\n    let urlCrossBtn = new URL(\"./nope.png\", import.meta.url);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        defaultValue: this.state.value,\n        ref: \"theTextInput\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: this.changeEditMode,\n        style: {\n          height: 20,\n          width: 20,\n          position: \"relative\",\n          top: 5\n        },\n        src: urlCrossBtn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: this.updateComponentValue,\n        style: {\n          height: 20,\n          width: 20\n        },\n        src: urlCheckBtn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 10\n    }, this);\n  }\n  renderDefaultView() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onDoubleClick: this.changeEditMode,\n      children: this.state.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 10\n    }, this);\n  }\n  render() {\n    return this.state.isInEditMode ? this.renderEditView() : this.renderDefaultView();\n  }\n}\nexport default Bookmark;","map":{"version":3,"names":["relativeTimeRounding","React","Component","Bookmark","constructor","props","value","state","isInEditMode","docId","bookid","ref","bookref","changeEditMode","bind","renderEditView","renderDefaultView","updateComponentValue","setState","refs","theTextInput","doc","update","bookmark","urlCheckBtn","URL","import","meta","url","urlCrossBtn","height","width","position","top","render"],"sources":["/home/silvere/Desktop/Apps/readinglist/src/editable.js"],"sourcesContent":["import { relativeTimeRounding } from 'moment';\nimport React, { Component } from 'react';\n\nclass Bookmark extends Component {\n\n  constructor(props) {\n    super(props)\n\n    if (this.props.value!=\"\") {\n      this.state = {\n        value:this.props.value, \n        isInEditMode:false,\n        docId:this.props.bookid,\n        ref:this.props.bookref\n      }\n    } else {\n      this.state = {\n        value:\"####\", \n        isInEditMode:false,\n        docId:this.props.bookid,\n        ref:this.props.bookref\n      }\n    }\n\n    this.changeEditMode = this.changeEditMode.bind(this)\n    this.renderEditView = this.renderEditView.bind(this)\n    this.renderDefaultView = this.renderDefaultView.bind(this)\n    this.updateComponentValue = this.updateComponentValue.bind(this)\n    \n  \n}\n\n\n//state = {\n//  value : \"Some text\", \n//  isInEditMode: false\n//}\n\nchangeEditMode() {\n  this.setState(\n    {\n      isInEditMode:!this.state.isInEditMode\n    }\n  )\n}\n\nupdateComponentValue() {\n  this.setState({\n    isInEditMode:false,\n    value: this.refs.theTextInput.value\n  });\n    this.state.ref.doc(this.state.docId).update({bookmark:this.refs.theTextInput.value});\n\n}\n\nrenderEditView() {\n  let urlCheckBtn = new URL(\"./check.png\",import.meta.url);\n  let urlCrossBtn = new URL(\"./nope.png\",import.meta.url);\n\n  return <div>\n    <input type=\"text\" \n           defaultValue={this.state.value}\n           ref=\"theTextInput\"/>\n  <img onClick={this.changeEditMode} style={{height:20,width:20,position:\"relative\",top:5\n}} src={urlCrossBtn}/> \n  <img onClick={this.updateComponentValue} style={{height:20,width:20\n}} src={urlCheckBtn}/></div>\n}\n\nrenderDefaultView() {\n  return <div onDoubleClick = {this.changeEditMode}> \n  {this.state.value}\n</div>\n}\n\n  render() {\n    return this.state.isInEditMode ? \n     this.renderEditView() : this.renderDefaultView()\n    \n  }\n}\n\nexport default Bookmark;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}