{"ast":null,"code":"import _regeneratorRuntime from\"/home/silvere/Desktop/Apps/readinglist/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/silvere/Desktop/Apps/readinglist/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState,useEffect,Component}from'react';import Icon from'./pdficon.js';import firebase from'firebase/compat/app';import'firebase/compat/auth';import'firebase/compat/firestore';import SignOut from'./signout.js';import AddBook from'./addBook.js';import DisplayBooks from'./displayBooks.js';import{useAuthState}from'react-firebase-hooks/auth';import{useCollectionData}from'react-firebase-hooks/firestore';function SetAdminOnUserData(props){useEffect(function(){function changeAdminState(){return _changeAdminState.apply(this,arguments);}function _changeAdminState(){_changeAdminState=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var userRef,query_user,snapshot_user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userRef=props.firestore.collection('users');query_user=userRef.where(\"id\",\"==\",props.auth.currentUser.uid).where(\"status\",\"==\",\"admin\");_context.next=4;return query_user.get();case 4:snapshot_user=_context.sent;if(!snapshot_user.empty){props.setAdmin();}case 6:case\"end\":return _context.stop();}}},_callee);}));return _changeAdminState.apply(this,arguments);}changeAdminState();},[]);}export default SetAdminOnUserData;","map":{"version":3,"names":["React","useState","useEffect","Component","Icon","firebase","SignOut","AddBook","DisplayBooks","useAuthState","useCollectionData","SetAdminOnUserData","props","changeAdminState","userRef","firestore","collection","query_user","where","auth","currentUser","uid","get","snapshot_user","empty","setAdmin"],"sources":["/home/silvere/Desktop/Apps/readinglist/src/setAdminOnUserData.js"],"sourcesContent":["import React, { useState , useEffect, Component } from 'react';\nimport Icon from './pdficon.js';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport SignOut from './signout.js';\nimport AddBook from './addBook.js';\nimport DisplayBooks from './displayBooks.js';\n\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\n\n\nfunction SetAdminOnUserData(props) {\n\n    useEffect(() => { async function changeAdminState() {\n        const userRef = props.firestore.collection('users');\n\n        const query_user = userRef.where(\"id\", \"==\", props.auth.currentUser.uid).where(\"status\",\"==\",\"admin\");\n        const snapshot_user = await query_user.get();\n        \n        if (!snapshot_user.empty){\n            props.setAdmin()\n        }\n    }\n\n    changeAdminState()\n    \n        }, []);\n\n}\n\nexport default SetAdminOnUserData"],"mappings":"wQAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAGC,SAAS,CAAEC,SAAS,KAAQ,OAAO,CAC9D,MAAOC,KAAI,KAAM,cAAc,CAC/B,MAAOC,SAAQ,KAAM,qBAAqB,CAC1C,MAAO,sBAAsB,CAC7B,MAAO,2BAA2B,CAClC,MAAOC,QAAO,KAAM,cAAc,CAClC,MAAOC,QAAO,KAAM,cAAc,CAClC,MAAOC,aAAY,KAAM,mBAAmB,CAG5C,OAASC,YAAY,KAAQ,2BAA2B,CACxD,OAASC,iBAAiB,KAAQ,gCAAgC,CAGlE,QAASC,mBAAkB,CAACC,KAAK,CAAE,CAE/BV,SAAS,CAAC,UAAM,SAAiBW,iBAAgB,4JAA/B,0KACRC,OAAO,CAAGF,KAAK,CAACG,SAAS,CAACC,UAAU,CAAC,OAAO,CAAC,CAE7CC,UAAU,CAAGH,OAAO,CAACI,KAAK,CAAC,IAAI,CAAE,IAAI,CAAEN,KAAK,CAACO,IAAI,CAACC,WAAW,CAACC,GAAG,CAAC,CAACH,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,uBACzED,WAAU,CAACK,GAAG,EAAE,QAAtCC,aAAa,eAEnB,GAAI,CAACA,aAAa,CAACC,KAAK,CAAC,CACrBZ,KAAK,CAACa,QAAQ,EAAE,CACpB,CAAC,sDACJ,mDAEDZ,gBAAgB,EAAE,CAEd,CAAC,CAAE,EAAE,CAAC,CAEd,CAEA,cAAeF,mBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}