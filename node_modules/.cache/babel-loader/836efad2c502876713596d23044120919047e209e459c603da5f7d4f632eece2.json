{"ast":null,"code":"import _classCallCheck from\"/home/silvere/Desktop/Apps/readinglist/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/silvere/Desktop/Apps/readinglist/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/silvere/Desktop/Apps/readinglist/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/silvere/Desktop/Apps/readinglist/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/silvere/Desktop/Apps/readinglist/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{relativeTimeRounding}from'moment';import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var Bookmark=/*#__PURE__*/function(_Component){_inherits(Bookmark,_Component);var _super=_createSuper(Bookmark);function Bookmark(props){var _this;_classCallCheck(this,Bookmark);_this=_super.call(this,props);if(_this.props.value!=\"\"){_this.state={value:_this.props.value,isInEditMode:false,docId:_this.props.bookid,ref:_this.props.bookref,className:_this.props.className};}else{_this.state={value:\"####\",isInEditMode:false,docId:_this.props.bookid,ref:_this.props.bookref,className:_this.props.className};}_this.changeEditMode=_this.changeEditMode.bind(_assertThisInitialized(_this));_this.renderEditView=_this.renderEditView.bind(_assertThisInitialized(_this));_this.renderDefaultView=_this.renderDefaultView.bind(_assertThisInitialized(_this));_this.updateComponentValue=_this.updateComponentValue.bind(_assertThisInitialized(_this));return _this;}//state = {\n//  value : \"Some text\", \n//  isInEditMode: false\n//}\n_createClass(Bookmark,[{key:\"changeEditMode\",value:function changeEditMode(){this.setState({isInEditMode:!this.state.isInEditMode});}},{key:\"updateComponentValue\",value:function updateComponentValue(e){if(e.key==\"Enter\"){this.state.ref.doc(this.state.docId).update({bookmark:this.refs.theTextInput.value});this.setState({isInEditMode:false,value:this.refs.theTextInput.value});}}},{key:\"renderEditView\",value:function renderEditView(){return/*#__PURE__*/_jsx(\"div\",{className:\"input \".concat(this.state.className),children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:this.state.value,ref:\"theTextInput\",onKeyPress:this.updateComponentValue})});}},{key:\"renderDefaultView\",value:function renderDefaultView(){return/*#__PURE__*/_jsx(\"div\",{onDoubleClick:this.changeEditMode,className:\"input \".concat(this.state.className),children:this.state.value});}},{key:\"render\",value:function render(){return this.state.isInEditMode?this.renderEditView():this.renderDefaultView();}}]);return Bookmark;}(Component);export default Bookmark;","map":{"version":3,"names":["relativeTimeRounding","React","Component","Bookmark","props","value","state","isInEditMode","docId","bookid","ref","bookref","className","changeEditMode","bind","renderEditView","renderDefaultView","updateComponentValue","setState","e","key","doc","update","bookmark","refs","theTextInput"],"sources":["/home/silvere/Desktop/Apps/readinglist/src/editable.js"],"sourcesContent":["import { relativeTimeRounding } from 'moment';\nimport React, { Component } from 'react';\n\nclass Bookmark extends Component {\n\n  constructor(props) {\n    super(props)\n\n    if (this.props.value!=\"\") {\n      this.state = {\n        value:this.props.value, \n        isInEditMode:false,\n        docId:this.props.bookid,\n        ref:this.props.bookref,\n        className:this.props.className\n      }\n    } else {\n      this.state = {\n        value:\"####\", \n        isInEditMode:false,\n        docId:this.props.bookid,\n        ref:this.props.bookref,\n        className:this.props.className\n      }\n    }\n\n    this.changeEditMode = this.changeEditMode.bind(this)\n    this.renderEditView = this.renderEditView.bind(this)\n    this.renderDefaultView = this.renderDefaultView.bind(this)\n    this.updateComponentValue = this.updateComponentValue.bind(this)\n    \n  \n}\n\n\n//state = {\n//  value : \"Some text\", \n//  isInEditMode: false\n//}\n\nchangeEditMode() {\n  this.setState(\n    {\n      isInEditMode:!this.state.isInEditMode\n    }\n  )\n}\n\nupdateComponentValue(e) {\n  if (e.key == \"Enter\") {\n    this.state.ref.doc(this.state.docId).update({bookmark:this.refs.theTextInput.value});\n    this.setState({\n    isInEditMode:false,\n    value: this.refs.theTextInput.value\n  })\n    \n  }\n}\n\nrenderEditView() {\n\n  return <div className={`input ${this.state.className}`}>\n    <input type=\"text\" \n           defaultValue={this.state.value}\n           ref=\"theTextInput\" onKeyPress={this.updateComponentValue}/>\n  </div>\n}\n\nrenderDefaultView() {\n  return <div onDoubleClick = {this.changeEditMode} className={`input ${this.state.className}`}> \n  {this.state.value}\n</div>\n}\n\n  render() {\n    return this.state.isInEditMode ? \n     this.renderEditView() : this.renderDefaultView()\n    \n  }\n}\n\nexport default Bookmark;\n"],"mappings":"4mBAAA,OAASA,oBAAoB,KAAQ,QAAQ,CAC7C,MAAOC,MAAK,EAAIC,SAAS,KAAQ,OAAO,CAAC,8CAEnCC,SAAQ,oGAEZ,kBAAYC,KAAK,CAAE,0CACjB,uBAAMA,KAAK,EAEX,GAAI,MAAKA,KAAK,CAACC,KAAK,EAAE,EAAE,CAAE,CACxB,MAAKC,KAAK,CAAG,CACXD,KAAK,CAAC,MAAKD,KAAK,CAACC,KAAK,CACtBE,YAAY,CAAC,KAAK,CAClBC,KAAK,CAAC,MAAKJ,KAAK,CAACK,MAAM,CACvBC,GAAG,CAAC,MAAKN,KAAK,CAACO,OAAO,CACtBC,SAAS,CAAC,MAAKR,KAAK,CAACQ,SACvB,CAAC,CACH,CAAC,IAAM,CACL,MAAKN,KAAK,CAAG,CACXD,KAAK,CAAC,MAAM,CACZE,YAAY,CAAC,KAAK,CAClBC,KAAK,CAAC,MAAKJ,KAAK,CAACK,MAAM,CACvBC,GAAG,CAAC,MAAKN,KAAK,CAACO,OAAO,CACtBC,SAAS,CAAC,MAAKR,KAAK,CAACQ,SACvB,CAAC,CACH,CAEA,MAAKC,cAAc,CAAG,MAAKA,cAAc,CAACC,IAAI,+BAAM,CACpD,MAAKC,cAAc,CAAG,MAAKA,cAAc,CAACD,IAAI,+BAAM,CACpD,MAAKE,iBAAiB,CAAG,MAAKA,iBAAiB,CAACF,IAAI,+BAAM,CAC1D,MAAKG,oBAAoB,CAAG,MAAKA,oBAAoB,CAACH,IAAI,+BAAM,cAGpE,CAGA;AACA;AACA;AACA;AAAA,mDAEA,yBAAiB,CACf,IAAI,CAACI,QAAQ,CACX,CACEX,YAAY,CAAC,CAAC,IAAI,CAACD,KAAK,CAACC,YAC3B,CAAC,CACF,CACH,CAAC,oCAED,8BAAqBY,CAAC,CAAE,CACtB,GAAIA,CAAC,CAACC,GAAG,EAAI,OAAO,CAAE,CACpB,IAAI,CAACd,KAAK,CAACI,GAAG,CAACW,GAAG,CAAC,IAAI,CAACf,KAAK,CAACE,KAAK,CAAC,CAACc,MAAM,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACC,IAAI,CAACC,YAAY,CAACpB,KAAK,CAAC,CAAC,CACpF,IAAI,CAACa,QAAQ,CAAC,CACdX,YAAY,CAAC,KAAK,CAClBF,KAAK,CAAE,IAAI,CAACmB,IAAI,CAACC,YAAY,CAACpB,KAChC,CAAC,CAAC,CAEF,CACF,CAAC,8BAED,yBAAiB,CAEf,mBAAO,YAAK,SAAS,iBAAW,IAAI,CAACC,KAAK,CAACM,SAAS,CAAG,uBACrD,cAAO,IAAI,CAAC,MAAM,CACX,YAAY,CAAE,IAAI,CAACN,KAAK,CAACD,KAAM,CAC/B,GAAG,CAAC,cAAc,CAAC,UAAU,CAAE,IAAI,CAACY,oBAAqB,EAAE,EAC9D,CACR,CAAC,iCAED,4BAAoB,CAClB,mBAAO,YAAK,aAAa,CAAI,IAAI,CAACJ,cAAe,CAAC,SAAS,iBAAW,IAAI,CAACP,KAAK,CAACM,SAAS,CAAG,UAC5F,IAAI,CAACN,KAAK,CAACD,KAAK,EACb,CACN,CAAC,sBAEC,iBAAS,CACP,MAAO,KAAI,CAACC,KAAK,CAACC,YAAY,CAC7B,IAAI,CAACQ,cAAc,EAAE,CAAG,IAAI,CAACC,iBAAiB,EAAE,CAEnD,CAAC,sBA3EoBd,SAAS,EA8EhC,cAAeC,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}