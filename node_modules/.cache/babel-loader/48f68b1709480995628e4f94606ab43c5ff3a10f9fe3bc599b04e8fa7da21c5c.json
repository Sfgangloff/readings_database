{"ast":null,"code":"import _slicedToArray from\"/home/silvere/Desktop/Apps/readinglist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,Component}from'react';import Icon from'./pdficon.js';import firebase from'firebase/compat/app';import'firebase/compat/auth';import'firebase/compat/firestore';import Hline from'./horizontalLine.js';import RecycleIcon from'./recycleIcon.js';import UpButton from'./upButton.js';import DownButton from'./downButton.js';import Bookmark from'./editable.js';import{useAuthState}from'react-firebase-hooks/auth';import{useCollectionData}from'react-firebase-hooks/firestore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DisplayBooks(props){var bookRef=props.firestore.collection('books');var query=bookRef.orderBy('title','desc');var _useCollectionData=useCollectionData(query,{idField:'id'}),_useCollectionData2=_slicedToArray(_useCollectionData,1),books=_useCollectionData2[0];var Book=function Book(props){var _props$book=props.book,author=_props$book.author,field=_props$book.field,editor=_props$book.editor,title=_props$book.title,year=_props$book.year,pdf=_props$book.pdf,status=_props$book.status,id=_props$book.id,bookmark=_props$book.bookmark;if(props.book.status==props.status){if(props.status==\"current\"){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"author \".concat(status),children:/*#__PURE__*/_jsx(\"b\",{children:author})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"i\",{children:title})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"(Ed. \",editor,\",\",year,\")\"]}),/*#__PURE__*/_jsx(\"td\",{children:field}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:pdf,target:\"_blank\",style:{display:'inline',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsx(Icon,{url:pdf})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(RecycleIcon,{id:id,bookref:bookRef})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(DownButton,{id:id,bookref:bookRef})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Bookmark,{value:bookmark,bookid:id,bookref:bookRef})})]});}if(props.status==\"past\"){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"author \".concat(status),children:/*#__PURE__*/_jsx(\"b\",{children:author})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"i\",{children:title})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"(Ed. \",editor,\",\",year,\")\"]}),/*#__PURE__*/_jsx(\"td\",{children:field}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:pdf,target:\"_blank\",style:{display:'inline',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsx(Icon,{url:pdf})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(UpButton,{id:id,bookref:bookRef})})]});}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container m-4\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:\"S.Gangloff's reading list:\"})}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Editor, date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Field\"}),/*#__PURE__*/_jsx(\"th\",{children:\"url\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:books&&books.map(function(book){return/*#__PURE__*/_jsx(Book,{book:book,status:\"current\"},book.id);})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Hline,{color:\"black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container m-4\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:\"S.Gangloff's bookshelf:\"})}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Editor, date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Field\"}),/*#__PURE__*/_jsx(\"th\",{children:\"url\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:books&&books.map(function(book){return/*#__PURE__*/_jsx(Book,{book:book,status:\"past\"},book.id);})})]})]});}export default DisplayBooks;","map":{"version":3,"names":["React","useState","Component","Icon","firebase","Hline","RecycleIcon","UpButton","DownButton","Bookmark","useAuthState","useCollectionData","DisplayBooks","props","bookRef","firestore","collection","query","orderBy","idField","books","Book","book","author","field","editor","title","year","pdf","status","id","bookmark","display","justifyContent","alignItems","map"],"sources":["/home/silvere/Desktop/Apps/readinglist/src/displayBooks.js"],"sourcesContent":["import React, { useState , Component } from 'react';\nimport Icon from './pdficon.js';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\n\nimport Hline from './horizontalLine.js';\nimport RecycleIcon from './recycleIcon.js';\nimport UpButton from './upButton.js';\nimport DownButton from './downButton.js';\nimport Bookmark from './editable.js';\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\n\nfunction DisplayBooks(props) {\n    const bookRef = props.firestore.collection('books');\n\n    const query = bookRef.orderBy('title','desc');\n    const [books] = useCollectionData(query,{idField: 'id'});\n\n        const Book = (props) => {\n            const {author,field,editor,title,year,pdf,status, id, bookmark} = props.book;\n          \n          if (props.book.status == props.status) {\n\n            if (props.status == \"current\") {\n              return (\n                <tr><td className={`author ${status}`}><b>{author}</b></td><td><i>{title}</i></td><td>(Ed. {editor},{year})</td><td>{field}</td><td><a href={pdf} target=\"_blank\" style={{display:'inline',justifyContent:'center',alignItems: 'center'}}><Icon url={pdf}/></a></td><td><RecycleIcon id={id} bookref={bookRef}/></td><td><DownButton id={id} bookref={bookRef}/></td><td><Bookmark value={bookmark} bookid={id} bookref={bookRef}/></td></tr>\n              )\n            }\n            \n            if (props.status == \"past\") {\n              return (\n                <tr><td className={`author ${status}`}><b>{author}</b></td><td><i>{title}</i></td><td>(Ed. {editor},{year})</td><td>{field}</td><td><a href={pdf} target=\"_blank\" style={{display:'inline',justifyContent:'center',alignItems: 'center'}}><Icon url={pdf}/></a></td><td><UpButton id={id} bookref={bookRef}/></td></tr>\n              )\n            } \n            \n          } \n          }\n\n    return (\n        <>\n        <div className = \"container m-4\">\n        <h4 className =\"text-center\">S.Gangloff's reading list:</h4>\n      </div>\n      <table><thead><tr><th>Author</th><th>Title</th><th>Editor, date</th><th>Field</th><th>url</th></tr></thead><tbody>{\n          books && books.map(book => <Book key={book.id} book={book} status=\"current\"/>)\n        }</tbody></table>\n        <br/>\n\n<Hline color=\"black\"/>\n\n        <div className = \"container m-4\">\n        <h4 className =\"text-center\">S.Gangloff's bookshelf:</h4>\n      </div>\n      <table><thead><tr><th>Author</th><th>Title</th><th>Editor, date</th><th>Field</th><th>url</th></tr></thead><tbody>{\n          books && books.map(book => <Book key={book.id} book={book} status=\"past\"/>)\n        }</tbody></table>\n      \n      </>\n    )\n}\n\nexport default DisplayBooks;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}